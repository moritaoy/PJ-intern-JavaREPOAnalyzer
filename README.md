# JavaREPOAnalyzer
以下よりアクセスできます

[JavaREPOAnalyzer](http://springboot-dev.eba-cxerme7m.ap-northeast-1.elasticbeanstalk.com)

## 概要
このツールを用いることで、Github上のJAVAを用いたリポジトリを解析し、スコア化することが出来る。

コンセプトは「JAVAエンジニアのためのツール」であり、JAVAという言語のみに絞ったスコア化をすることで、他の能力可視化ツールとの差別化を図る。

## 構成
このツールは、ウェブアプリ、解析システムの２つにより構成される。

## ウェブアプリ
ウェブアプリはSpring bootをベースとしたアプリケーションとなっている。

ウェブアプリ上では、リポジトリの登録とスコアの確認ができる。

また、複数人のユーザーを並べてスコアを確認することも可能である。

ユーザーはこのウェブアプリを通して、ツールを使用することになる。

### 技術選定理由
JAVAを用いたアプリ開発は未経験であったが、メンターの方がJAVAを用いた開発経験が豊富であった。

メンターの方からより多くのアドバイスを得たいと考え、JAVAをベースにウェブアプリを構築することにした。

今回は、JAVAのWebフレームワーク中でも比較的有名であるSpring　bootを用いることにした。

また、テンプレートエンジンとしてはthymleafを用いることにした。

それぞれ、自身がJAVAにおいて初心者であること、メンターの方が使用経験があることを念頭に選定した。

## 解析システム
解析システムは、登録されたリポジトリをもとにGithubAPIを通してリポジトリを解析するシステムである。

フロントエンドとしてAWSのAPI Gatewayを用いており、データベースにDynamoDB、プログラムとAPIとの中間にAWS Simple Queue Serviceを用いた。

（細かい構成に関しては、発表資料参照）

### 解析ロジック
解析はPythonを用いてjavaコードの静的解析を行っている。

解析、及びスコアの計算は以下の順序で行われる。
- javaファイルをリストアップする
- javaファイル内で使用されているライブラリをリストアップする
- ライブラリとライブラリの関連する種類を結び付けた辞書を参照し、種類ごとに数え上げる
- 以下の例のようにスコアを算出する

Dataスコア＝Σすべてのリポジトリ( (Dataに関する検出されたライブラリ数×比重)×log(コード量)×調整値 )

比重＝Dataとして登録されているライブラリ/登録ライブラリの総数

調整値＝Mobileに限り1/3 (ライブラリ量が他の種類に比べ少ないため)

### 技術選定理由
解析にはPythonを用いた。理由としては、以下の通りである。

- Github APIへ簡単にアクセスできるライブラリが存在する
- 文字列の解析に用いることのできるメソッドが豊富である
- AWSとの親和性が高い(boto3)

### AWSを用いた理由
すべてのファイルに対して静的解析を行うため、１つの解析に非常に時間がかかることが判明した。

加えて並列して解析を効率的に行うこと、アクセス増加の際の拡張性を考慮した時、Webアプリケーションとは分離した方が良いと考えた。

イベントドリブンでリクエストに応じて並列で解析を回すにはマシンリソースが足りないため、リクエストは一度Queueに挿入して、解析システムがPOLLする形を取る方針で設計することにした。今回の開発時間が極めて短いことを考えると、Webアプリケーションと解析システムを接続する部分は既存のサービスを使った方が良いと考えた。

このため、自身が使い慣れているAWS SQS 及び DynamoDBを用いた解析システムを構築することにした。
