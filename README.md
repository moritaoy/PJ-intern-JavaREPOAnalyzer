# JavaREPOAnalyzer
以下よりアクセスできます

[JavaREPOAnalyzer](http://springboot-dev.eba-cxerme7m.ap-northeast-1.elasticbeanstalk.com)

## 概要
このツールを用いることで、Github上のJAVAを用いたリポジトリを解析し、スコア化することが出来る。

コンセプトは「JAVAエンジニアのためのツール」であり、JAVAという言語のみに絞ったスコア化をすることで、他の能力可視化ツールとの差別化を図る。

## 発表資料
[プレゼンテーション](成果発表会(pjintern-2020).pptx)

## アピールポイント

#### 1. 通常では測りにくい部分を可視化
エンジニアの能力を可視化するツールとして、Githubのデータを取得し、コントリビュート数やコミット量などからスコアを測る物は既に存在する。

しかし、これらのツールが指標とするGithubのコミット量や、コーディング量はあくまでも「数字」の範囲である。

エンジニアとしての知識や、Githubについて慣れていない人でも、プロフィール等に表示されるどの数字がどのような意味があるのかを数点学習すれば、だれでも理解することが出来る。そして数字の意味する内容を理解すれば、それらから能力を推測することは簡単である。

一方で特定の言語における経験は、非常に可視化しにくい部分である。

手法として、その言語に関するコーディング量を確認することで推測することはできる。しかし、分野別にとなると非常に難しい。

理由としてコードそのものを理解する必要が出てくるからである。その言語についての知識が必要となり、比較にならないほどの学習コストがかかる。

このツールでは、この可視化しにくい部分を「スコア」として算出し、一つの指標として提示する。

この点で、一般に存在しているGithubのコミット数やコーディング量を纏めたツールとは、一線を画した価値があると考える。

#### 2. すべてウェブ上で完結
JavaREPOAnalyzerは、ウェブ上で扱うことのできるツールである。

これにより、コンピュータでのソフトウェアの扱いになれていない人でも、ツールを扱うことが出来る。

エンジニアではない人が評価等の指標に用いたい場合でも気軽に使用できるため、大きなメリットであると考える。

## 構成
このツールは、ウェブアプリ、解析システムの２つにより構成される。

## ウェブアプリ
ウェブアプリはSpring bootをベースとしたアプリケーションとなっている。

ウェブアプリ上では、リポジトリの登録とスコアの確認ができる。

また、複数人のユーザーを並べてスコアを確認することも可能である。

ユーザーはこのウェブアプリを通して、ツールを使用することになる。

### 技術選定理由
JAVAを用いたアプリ開発は未経験であったが、メンターの方がJAVAを用いた開発経験が豊富であった。

メンターの方からより多くのアドバイスを得たいと考え、JAVAをベースにウェブアプリを構築することにした。

今回は、JAVAのWebフレームワーク中でも比較的有名であるSpring　bootを用いることにした。

また、テンプレートエンジンとしてはthymleafを用いることにした。

それぞれ、自身がJAVAにおいて初心者であること、メンターの方が使用経験があることを念頭に選定した。

## 解析システム
解析システムは、登録されたリポジトリをもとにGithubAPIを通してリポジトリを解析するシステムである。

フロントエンドとしてAWSのAPI Gatewayを用いており、データベースにDynamoDB、プログラムとAPIとの中間にAWS Simple Queue Serviceを用いた。

（細かい構成に関しては、発表資料参照）

### 技術選定理由
解析にはPythonを用いた。理由としては、以下の通りである。

- Github APIへ簡単にアクセスできるライブラリが存在する
- 文字列の解析に用いることのできるメソッドが豊富である
- AWSとの親和性が高い(boto3)

### AWSを用いた理由
すべてのファイルに対して静的解析を行うため、１つの解析に非常に時間がかかることが判明した。

加えて並列して解析を効率的に行うこと、アクセス増加の際の拡張性を考慮した時、Webアプリケーションとは分離した方が良いと考えた。

イベントドリブンでリクエストに応じて並列で解析を回すにはマシンリソースが足りないため、リクエストは一度Queueに挿入して、解析システムがPOLLする形を取る方針で設計することにした。今回の開発時間が極めて短いことを考えると、Webアプリケーションと解析システムを接続する部分は既存のサービスを使った方が良いと考えた。

このため、自身が使い慣れているAWS SQS 及び DynamoDBを用いた解析システムを構築することにした。


### 解析ロジック
解析はPythonを用いてjavaコードの静的解析を行っている。

解析結果として、以下の7種類に分けられたスコアが算出される。
- Web/Network
- Data
- Database
- Security
- Mobile
- Machinelerning
- Graphic/UI

解析、及びスコアの計算は以下の順序で行われる。
- javaファイルをリストアップする
- javaファイル内で使用されているライブラリをリストアップする
- ライブラリとライブラリの関連する種類を結び付けた辞書を参照し、種類ごとに数え上げる
- 以下の例のようにスコアを算出する

例）Dataに関するスコアの算出

Dataスコア＝Σすべてのリポジトリ( (Dataに関する検出されたライブラリ数×比重)×log(コード量)×調整値 )

比重＝登録ライブラリの総数/Dataとして登録されているライブラリ

調整値＝ 1 但しMobileに限り1/3 (ライブラリ量が他の種類に比べ少ないため)

他のスコアも同様に算出される

この計算式は以下の仮説をもとに構成した。

- あるリポジトリで経験した量は、そのリポジトリで用いたライブラリの種類数に比例する
- コーディングした量は経験量に影響を及ぼすが、対数的に経験量は減少する

→開発において経験を積むことが出来るのは初期の方が多く、継続していると時間当たりの「経験」量は減少する
